"use strict";

document.addEventListener('DOMContentLoaded', function () {
  // aos
  AOS.init({
    once: true
  });

  // menu
  var hamburger = document.getElementById('hamburger-toggle');
  var menu = document.getElementById('menu');
  if (menu && hamburger) {
    hamburger.addEventListener('click', function (event) {
      event.preventDefault();
      if (menu.classList.contains('is--active')) {
        hamburger.classList.remove('is--active');
        menu.classList.remove('is--active');
        document.body.classList.remove('scroll-disabled');
      } else {
        hamburger.classList.add('is--active');
        menu.classList.add('is--active');
        document.body.classList.add('scroll-disabled');
      }
    });
  }

  // modal
  var modal = document.querySelectorAll('.video-modal');
  var modalBtn = document.querySelectorAll('.video-modal-btn');
  var modalClose = document.querySelectorAll('.video-modal__close-btn');
  if (modal && modalBtn && modalClose) {
    // modal
    modal.forEach(function (item) {
      item.addEventListener('click', function (event) {
        if (event.target.classList.contains('video-modal') || event.target.classList.contains('video-modal__wrap')) {
          event.preventDefault();
          document.querySelectorAll('.video-modal.is--active').forEach(function (child) {
            return child.classList.remove('is--active');
          });
          document.body.classList.remove('scroll-disabled');
        }
      });
    });

    // modal btn
    modalBtn.forEach(function (item, i) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        document.querySelectorAll('.video-modal.is--active').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        document.getElementById('video-modal').classList.add('is--active');
        document.body.classList.add('scroll-disabled');
      });
    });

    // modal close
    modalClose.forEach(function (item) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        document.querySelectorAll('.video-modal.is--active').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        document.body.classList.remove('scroll-disabled');
      });
    });
  }
});